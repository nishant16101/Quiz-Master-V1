{% extends 'base.html' %}

{% block title %}Manage Questions{% endblock %}

{% block content %}
    <div class="manage-questions">
        <h2>Add Questions to Quiz: {{ quiz_name }}</h2>
        
        <!-- Form to Add New Question -->
        <form action="/admin/add-question/{{ quiz_id }}" method="POST">
            <div class="form-group">
                <label for="question-text">Question Text</label>
                <textarea id="question-text" name="question_text" class="form-control" rows="4" required></textarea>
            </div>

            <div class="form-group">
                <label for="option-1">Option 1</label>
                <input type="text" id="option-1" name="option_1" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="option-2">Option 2</label>
                <input type="text" id="option-2" name="option_2" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="option-3">Option 3</label>
                <input type="text" id="option-3" name="option_3" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="option-4">Option 4</label>
                <input type="text" id="option-4" name="option_4" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="correct-option">Correct Option</label>
                <select id="correct-option" name="correct_option" class="form-control" required>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <option value="3">Option 3</option>
                    <option value="4">Option 4</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Add Question</button>
        </form>

        <hr>

        <!-- List of Questions in the Quiz -->
        <h3>Existing Questions</h3>
        <div class="existing-questions">
            {% if questions %}
                <ul class="list-group">
                    {% for question in questions %}
                        <li class="list-group-item">
                            <p><strong>Question:</strong> {{ question.text }}</p>
                            <ul>
                                <li>Option 1: {{ question.option_1 }}</li>
                                <li>Option 2: {{ question.option_2 }}</li>
                                <li>Option 3: {{ question.option_3 }}</li>
                                <li>Option 4: {{ question.option_4 }}</li>
                            </ul>
                            <p><strong>Correct Option:</strong> Option {{ question.correct_option }}</p>
                            <form action="/admin/delete-question/{{ question.id }}" method="POST">
                                <button type="submit" class="btn btn-danger btn-sm">Delete Question</button>
                            </form>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No questions added yet.</p>
            {% endif %}
        </div>
    </div>
{% endblock %}
